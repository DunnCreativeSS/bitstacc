(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{172:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return y}));var a,r=n(17),i=n(1),o=n.n(i),c=n(19),s=n(3),u=n(32),l=n(54),d=n(55),b=n(48),h=new u.e.PublicKey("faircnAB9k59Y4TXmLabBULeuTLgV7TkGMGNkjnA15j");!function(e){e.Brewing="Brewing",e.Finished="Finished",e.PastDue="Past Due"}(a||(a={}));var p=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a){var r,i,s,l,d,b,p,f,m,j,y,x,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new u.c(a,t,{preflightCommitment:"recent"}),e.next=3,u.b.fetchIdl(h,r);case 3:return i=e.sent,s=new u.b(i,h,r),e.next=7,s.account.fairLaunch.fetch(n);case 7:return l=e.sent,e.next=10,v(l.tokenMint,t.publicKey);case 10:return d=e.sent,b=Object(c.a)(d,2),p=b[0],f=b[1],e.prev=14,e.next=17,s.account.fairLaunchTicket.fetch(p);case 17:m=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.log("No ticket");case 23:return e.next=25,s.provider.connection.getBalance(l.treasury);case 25:return j=e.sent,y=new Uint8Array([]),e.next=29,g(l.tokenMint);case 29:return x=e.sent[0],e.prev=30,e.next=33,s.provider.connection.getAccountInfo(x);case 33:O=e.sent,y=new Uint8Array((null===O||void 0===O?void 0:O.data)||[]),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(30),console.log("Could not find fair launch lottery."),console.log(e.t1);case 41:return e.abrupt("return",{id:n,state:l,program:s,ticket:{pubkey:p,bump:f,data:m},lottery:{pubkey:x,data:y},treasury:j});case 42:case"end":return e.stop()}}),e,null,[[14,20],[30,37]])})));return function(t,n,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,i,c,s,d,h,p,f,j,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n.state.tokenMint,t.publicKey);case 2:return a=e.sent[0],i=n.ticket.data,e.next=6,g(n.state.tokenMint);case 6:return c=e.sent[0],e.next=9,Object(b.d)(n.state.tokenMint,t.publicKey);case 9:if(s=e.sent[0],!(null===i||void 0===i?void 0:i.amount.gt(n.state.currentMedian))){e.next=20;break}return console.log("Adjusting down...",null===i||void 0===i?void 0:i.amount.toNumber(),n.state.currentMedian.toNumber()),e.next=14,m(n.program,n.state.currentMedian.toNumber(),t,n,a);case 14:return d=e.sent,h=d.remainingAccounts,p=d.instructions,f=d.signers,e.next=20,n.program.rpc.adjustTicket(n.state.currentMedian,{accounts:{fairLaunchTicket:a,fairLaunch:n.id,fairLaunchLotteryBitmap:c,treasury:n.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},instructions:p.length>0?p:void 0,remainingAccounts:[{pubkey:t.publicKey,isSigner:!0,isWritable:!0}].concat(Object(r.a)(h)),signers:f});case 20:return e.next=22,n.program.provider.connection.getAccountInfo(s);case 22:return j=e.sent,y=j?[]:[Object(b.b)(s,t.publicKey,t.publicKey,n.state.tokenMint)],e.next=26,n.program.rpc.punchTicket({accounts:{fairLaunchTicket:a,fairLaunch:n.id,fairLaunchLotteryBitmap:c,payer:t.publicKey,buyerTokenAccount:s,tokenMint:n.state.tokenMint,tokenProgram:l.b},instructions:y.length>0?y:void 0});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var t=Object(s.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),a.toBuffer()],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),e.from("lottery")],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a,r,i){var s,h,p,f,v,g,m,j,y,x,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{remainingAccounts:[],instructions:[],signers:[],amountLamports:0});case 2:if(s=r.ticket,h=[],p=[],f=[],v=0,r.state.treasuryMint){e.next=11;break}v=s||0!==n?Math.ceil(n*d.a):r.state.data.priceRangeStart.toNumber(),e.next=23;break;case 11:return g=u.e.Keypair.generate(),f.push(g),p.push(l.c.createApproveInstruction(l.b,r.state.treasuryMint,g.publicKey,a.publicKey,[],amountNumber+r.state.data.fees.toNumber())),h.push({pubkey:r.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=h,e.next=18,Object(b.d)(r.state.treasuryMint,a.publicKey);case 18:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2),h.push({pubkey:g.publicKey,isWritable:!1,isSigner:!0}),h.push({pubkey:l.b,isWritable:!1,isSigner:!1});case 23:if(!s.data){e.next=39;break}return e.next=26,Object(b.e)(r.state.tokenMint,null===(m=s.data)||void 0===m?void 0:m.seq);case 26:return j=e.sent,y=Object(c.a)(j,2),x=y[0],O=y[1],e.next=32,t.provider.connection.getAccountInfo(x);case 32:if(e.sent){e.next=39;break}return e.t3=p,e.next=37,t.instruction.createTicketSeq(O,{accounts:{fairLaunchTicketSeqLookup:x,fairLaunch:r.id,fairLaunchTicket:i,payer:a.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY},signers:[]});case 37:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 39:return e.abrupt("return",{remainingAccounts:h,instructions:p,signers:f,amountLamports:v});case 40:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,r,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.d)(n.state.tokenMint,t.publicKey);case 4:if(a=e.sent[0],r=u.e.Keypair.generate(),i=[r],c=[l.c.createApproveInstruction(l.b,a,r.publicKey,t.publicKey,[],1)],s=[],!n.state.treasuryMint){e.next=17;break}return s.push({pubkey:n.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=s,e.next=14,Object(b.d)(n.state.treasuryMint,t.publicKey);case 14:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2);case 17:return console.log("tfr",n.state.treasury.toBase58(),t.publicKey.toBase58(),a.toBase58()),e.next=20,n.program.rpc.receiveRefund({accounts:{fairLaunch:n.id,treasury:n.state.treasury,buyer:t.publicKey,buyerTokenAccount:a,transferAuthority:r.publicKey,tokenMint:n.state.tokenMint,tokenProgram:l.b,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:s,instructions:c,signers:i});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a){var i,s,l,d,b,h,p,f,j,y,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return i=a.ticket.data,e.next=5,v(a.state.tokenMint,n.publicKey);case 5:return s=e.sent,l=Object(c.a)(s,2),d=l[0],b=l[1],e.next=11,m(a.program,t,n,a,d);case 11:if(h=e.sent,p=h.remainingAccounts,f=h.instructions,j=h.signers,y=h.amountLamports,!i){e.next=24;break}return e.next=19,g(a.state.tokenMint);case 19:return x=e.sent[0],console.log("Anchor wallet",n.publicKey.toBase58(),y),e.next=23,a.program.rpc.adjustTicket(new u.a(y),{accounts:{fairLaunchTicket:d,fairLaunch:a.id,fairLaunchLotteryBitmap:x,treasury:a.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}].concat(Object(r.a)(p)),signers:j,instructions:f.length>0?f:void 0});case 23:return e.abrupt("return");case 24:return e.prev=24,console.log("Amount",y),e.next=28,a.program.rpc.purchaseTicket(b,new u.a(y),{accounts:{fairLaunchTicket:d,fairLaunch:a.id,treasury:a.state.treasury,buyer:n.publicKey,payer:n.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY,clock:u.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:p,signers:j,instructions:f.length>0?f:void 0});case 28:e.next=34;break;case 30:throw e.prev=30,e.t0=e.catch(24),console.log(e.t0),e.t0;case 34:case"end":return e.stop()}}),e,null,[[24,30]])})));return function(t,n,a){return e.apply(this,arguments)}}()}).call(this,n(6).Buffer)},255:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var a=n(1),r=n.n(a),i=n(3),o=n(32),c=n(54),s=n(55),u=n(507),l=n(48),d=new o.e.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),b=new o.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),h=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var o,c,s,u,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",o=l.length>4&&void 0!==l[4]&&l[4],c=!1,s={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(i.a)(r.a.mark((function e(u,l){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){c||(c=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(c||!o){e.next=7;break}return Object(i.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getSignatureStatuses([t]);case 3:n=e.sent,s=n&&n.value[0],c||(s?s.err?(console.log("REST error for",t,s),c=!0,l(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),c=!0,u(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,j(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return s=e.sent,a._signatureSubscriptions[u]&&a.removeSignatureListener(u),c=!0,console.log("Returning status",s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),p=function(t,n,a,r){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:o.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.e.TransactionInstruction({keys:i,programId:l.a,data:e.from([])})},f=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,c,s,u,l,b,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new o.c(a,t,{preflightCommitment:"recent"}),e.next=3,o.b.fetchIdl(d,i);case 3:return c=e.sent,s=new o.b(c,d,i),e.next=7,s.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),b=u.itemsRedeemed.toNumber(),h=l-b,e.abrupt("return",{id:n,program:s,state:{itemsAvailable:l,itemsRedeemed:b,itemsRemaining:h,isSoldOut:0===h,isActive:u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,config:u.config,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer(),e.from("edition")],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i,d,h,f,m,j,y,x,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.e.Keypair.generate(),e.next=3,Object(l.d)(a.publicKey,n);case 3:return i=e.sent[0],e.next=6,Object(l.d)(t.state.tokenMint,n);case 6:return d=e.sent[0],h=t.id,f=[],m=[a],e.t0=o.e.SystemProgram,e.t1=n,e.t2=a.publicKey,e.t3=c.a.span,e.next=16,t.program.provider.connection.getMinimumBalanceForRentExemption(c.a.span);case 16:return e.t4=e.sent,e.t5=c.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=c.c.createInitMintInstruction(c.b,a.publicKey,0,n,n),e.t9=p(i,n,n,a.publicKey),e.t10=c.c.createMintToInstruction(c.b,a.publicKey,i,n,[],1),j=[e.t7,e.t8,e.t9,e.t10],t.state.tokenMint&&(y=o.e.Keypair.generate(),m.push(y),f.push({pubkey:d,isWritable:!0,isSigner:!1}),f.push({pubkey:y.publicKey,isWritable:!1,isSigner:!0}),j.push(c.c.createApproveInstruction(c.b,d,y.publicKey,n,[],t.state.price.toNumber()))),e.next=27,g(a.publicKey);case 27:return x=e.sent,e.next=30,v(a.publicKey);case 30:return O=e.sent,e.t11=j,e.next=34,t.program.instruction.mintNft({accounts:{config:t.state.config,candyMachine:h,payer:n,wallet:t.state.treasury,mint:a.publicKey,metadata:x,masterEdition:O,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:b,tokenProgram:c.b,systemProgram:s.c.programId,rent:o.e.SYSVAR_RENT_PUBKEY,clock:o.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:f.length>0?f:void 0});case 34:return e.t12=e.sent,e.t11.push.call(e.t11,e.t12),e.prev=37,e.next=40,Object(u.a)(t.program.provider.connection,t.program.provider.wallet,j,m);case 40:return e.abrupt("return",e.sent.txid);case 43:e.prev=43,e.t13=e.catch(37),console.log(e.t13);case 46:return e.abrupt("return","j");case 47:case"end":return e.stop()}}),e,null,[[37,43]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(6).Buffer)},48:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return v}));var a=n(1),r=n.n(a),i=n(3),o=n(32),c=n(54),s=n(55),u=new o.e.PublicKey("faircnAB9k59Y4TXmLabBULeuTLgV7TkGMGNkjnA15j"),l=function(e){if(e)return new Date(1e3*e.toNumber())},d=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),b={format:function(e){return e?d.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/s.a}},h=new o.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),p=function(){var t=Object(i.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),a.toArrayLike(e,"le",8)],u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e.PublicKey.findProgramAddress([n.toBuffer(),c.b.toBuffer(),t.toBuffer()],h);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function v(t,n,a,r){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s.c.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:s.b,isSigner:!1,isWritable:!1}];return new s.e({keys:i,programId:h,data:e.from([])})}}).call(this,n(6).Buffer)},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,r=n(17),i=n(1),o=n.n(i),c=n(3),s=n(55),u=n(67);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(a||(a={}));var l=function(){var e=Object(c.a)(o.a.mark((function e(t,n,a,i){var c,l,d,b,p,f,v,g,m,j,y,x=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=x.length>4&&void 0!==x[4]?x[4]:"singleGossip",l=x.length>5&&void 0!==x[5]&&x[5],d=x.length>6?x[6]:void 0,b=x.length>7?x[7]:void 0,n.publicKey){e.next=6;break}throw new u.WalletNotConnectedError;case 6:if(p=new s.d,a.forEach((function(e){return p.add(e)})),e.t0=d,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(c);case 12:e.t0=e.sent;case 13:if(p.recentBlockhash=e.t0.blockhash,l?(f=p).setSigners.apply(f,Object(r.a)(i.map((function(e){return e.publicKey})))):(v=p).setSigners.apply(v,[n.publicKey].concat(Object(r.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(g=p).partialSign.apply(g,Object(r.a)(i)),l){e.next=20;break}return e.next=19,n.signTransaction(p);case 19:p=e.sent;case 20:return b&&b(),e.next=23,h({connection:t,signedTransaction:p});case 23:return m=e.sent,j=m.txid,y=m.slot,e.abrupt("return",{txid:j,slot:y});case 27:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},b=15e3;function h(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark((function e(t){var n,a,r,i,s,u,l,h,p,v,m,y,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,a=t.connection,r=t.timeout,i=void 0===r?b:r,s=n.serialize(),u=d(),l=0,e.next=6,a.sendRawTransaction(s,{skipPreflight:!0});case 6:return h=e.sent,console.log("Started awaiting confirmation for",h),p=!1,Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||!(d()-u<i)){e.next=6;break}return a.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,j(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,g(h,i,a,"recent",!0);case 13:if(v=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!v.err){e.next=19;break}throw console.error(v.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===v||void 0===v?void 0:v.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return m=null,e.prev=28,e.next=31,f(a,n,"single");case 31:m=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!m||!m.err){e.next=47;break}if(!m.logs){e.next=46;break}y=m.logs.length-1;case 39:if(!(y>=0)){e.next=46;break}if(!(x=m.logs[y]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+x.slice("Program log: ".length));case 43:--y,e.next=39;break;case 46:throw new Error(JSON.stringify(m.err));case 47:return e.prev=47,p=!0,e.finish(47);case 50:return console.log("Latency",h,d()-u),e.abrupt("return",{txid:h,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function f(e,t,n){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(o.a.mark((function e(t,n,a){var r,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,r=n.serializeMessage(),i=n._serialize(r),c=i.toString("base64"),s=[c,{encoding:"base64",commitment:a}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(c.a)(o.a.mark((function e(t,n,a){var r,i,s,u,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(c.a)(o.a.mark((function e(d,b){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=a.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),r)}catch(h){s=!0,console.error("WS error in setup",t,h)}case 2:if(s||!i){e.next=8;break}return Object(c.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,a._signatureSubscriptions[l]&&a.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}},544:function(e,t,n){},550:function(e,t){},552:function(e,t){},568:function(e,t){},569:function(e,t){},590:function(e,t){},607:function(e,t){},618:function(e,t){},626:function(e,t){},630:function(e,t){},661:function(e,t){},665:function(e,t){},669:function(e,t){},673:function(e,t){},677:function(e,t){},681:function(e,t){},684:function(e,t){},688:function(e,t){},692:function(e,t){},705:function(e,t){},707:function(e,t){},721:function(e,t){},725:function(e,t){},727:function(e,t){},738:function(e,t){},740:function(e,t){},767:function(e,t){},769:function(e,t){},774:function(e,t){},776:function(e,t){},783:function(e,t){},795:function(e,t){},798:function(e,t){},810:function(e,t){},811:function(e,t,n){"use strict";n.r(t);var a,r,i,o,c=n(5),s=n.n(c),u=n(41),l=n.n(u),d=(n(544),n(844)),b=n(10),h=n(1),p=n.n(h),f=n(3),v=n(19),g=n(254),m=n(198),j=n(847),y=n(835),x=n(842),O=n(834),k=n(832),w=n(843),S=n(833),P=n(528),T=n(531),A=n(841),L=n(503),C=n(194),R=n(409),N=n(18),E=Object(R.a)((function(e){return Object(L.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),K=function(e){var t=e.date,n=e.status,a=e.style,r=e.start,i=e.end,o=e.onComplete,s=E(),u=Object(c.useState)(!!(r&&i&&t)&&r.getTime()-Date.now()<0),l=Object(v.a)(u,2),d=l[0],b=(l[1],function(e){var t=e.days,r=e.hours,i=e.minutes,o=e.seconds;return r+=24*t,e.completed?n?Object(N.jsx)("span",{className:s.done,children:n}):null:Object(N.jsxs)("div",{className:s.root,style:a,children:[d&&Object(N.jsx)(P.a,{elevation:0,children:Object(N.jsx)("span",{className:s.item,children:"+"})}),Object(N.jsxs)(P.a,{elevation:0,children:[Object(N.jsx)("span",{className:s.item,children:r<10?"0".concat(r):r}),Object(N.jsx)("span",{children:"hrs"})]}),Object(N.jsxs)(P.a,{elevation:0,children:[Object(N.jsx)("span",{className:s.item,children:i<10?"0".concat(i):i}),Object(N.jsx)("span",{children:"mins"})]}),Object(N.jsxs)(P.a,{elevation:0,children:[Object(N.jsx)("span",{className:s.item,children:o<10?"0".concat(o):o}),Object(N.jsx)("span",{children:"secs"})]})]})});return t&&r&&i&&d&&C.a,t?Object(N.jsx)(C.a,{date:t,onComplete:o,renderer:b}):null},M=n(836),B=n(840),D=n(839),_=n(324),I=n.n(_),W=n(845),F=n(55),Y=n(120),U=n(239),q=n(255),V=n(172),H=n(48),J=Object(m.a)(U.WalletDialogButton)(a||(a=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),z=m.a.div(r||(r=Object(g.a)([""]))),G=Object(m.a)(S.a)(i||(i=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),X=function(e){return Object(L.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})},Q=Object(m.a)(j.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});!function(e){e[e.Phase0=0]="Phase0",e[e.Phase1=1]="Phase1",e[e.Phase2=2]="Phase2",e[e.Lottery=3]="Lottery",e[e.Phase3=4]="Phase3",e[e.Phase4=5]="Phase4",e[e.Unknown=6]="Unknown"}(o||(o={}));var Z=function(e){var t=e.phaseName,n=e.desc,a=e.date,r=e.status;return Object(N.jsxs)(A.a,{container:!0,justifyContent:"center",children:[Object(N.jsxs)(A.a,{xs:6,justifyContent:"center",direction:"column",children:[Object(N.jsx)(T.a,{variant:"h5",style:{fontWeight:600},children:t}),Object(N.jsx)(T.a,{variant:"body1",color:"textSecondary",children:n})]}),Object(N.jsx)(A.a,{xs:6,container:!0,justifyContent:"flex-end",children:Object(N.jsx)(K,{date:Object(H.f)(a),style:{justifyContent:"flex-end"},status:r||"COMPLETE"})})]})};var $=function(e){var t,n,a;if(!(null===e||void 0===e?void 0:e.lottery.data)||!(null===e||void 0===e?void 0:e.lottery.data.length)||!(null===e||void 0===e||null===(t=e.ticket.data)||void 0===t?void 0:t.seq)||!(null===e||void 0===e?void 0:e.state.phaseThreeStarted))return!1;var r=e.lottery.data[49+Math.floor((null===(n=e.ticket.data)||void 0===n?void 0:n.seq.toNumber())/8)],i=7-(null===(a=e.ticket.data)||void 0===a?void 0:a.seq.toNumber())%8,o=r&Math.pow(2,i);return o>0},ee=function(e){var t,n,a,r,i,s,u,l,d,h,g,m,j,S,L,R,E,K,_,U,ee,te,ne,ae,re,ie,oe,ce,se,ue,le,de,be,he,pe,fe,ve,ge,me,je,ye=Object(c.useState)(),xe=Object(v.a)(ye,2),Oe=xe[0],ke=xe[1],we=Object(c.useState)(null),Se=Object(v.a)(we,2),Pe=Se[0],Te=Se[1],Ae=Object(c.useState)(!1),Le=Object(v.a)(Ae,2),Ce=Le[0],Re=Le[1],Ne=Object(c.useState)(0),Ee=Object(v.a)(Ne,2),Ke=Ee[0],Me=Ee[1],Be=Object(Y.useWallet)(),De=Object(c.useMemo)((function(){if(Be&&Be.publicKey&&Be.signAllTransactions&&Be.signTransaction)return{publicKey:Be.publicKey,signAllTransactions:Be.signAllTransactions,signTransaction:Be.signTransaction}}),[Be]),_e=Object(c.useState)({open:!1,message:"",severity:void 0}),Ie=Object(v.a)(_e,2),We=Ie[0],Fe=Ie[1],Ye=Object(c.useState)(),Ue=Object(v.a)(Ye,2),qe=Ue[0],Ve=Ue[1],He=Object(c.useState)(),Je=Object(v.a)(He,2),ze=Je[0],Ge=Je[1],Xe=Object(c.useState)(!1),Qe=Object(v.a)(Xe,2),Ze=Qe[0],$e=Qe[1],et=Object(c.useState)(!1),tt=Object(v.a)(et,2),nt=tt[0],at=tt[1],rt=Object(c.useState)(!1),it=Object(v.a)(rt,2),ot=it[0],ct=it[1],st=function(){var t=Object(f.a)(p.a.mark((function t(){var n,a,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Re(!0),!(Be.connected&&(null===ze||void 0===ze?void 0:ze.program)&&Be.publicKey)){t.next=13;break}if(!(null===qe||void 0===qe||null===(n=qe.ticket.data)||void 0===n?void 0:n.state.unpunched)||!$(qe)){t.next=6;break}return t.next=6,gt();case 6:return t.next=8,Object(q.c)(ze,Be.publicKey);case 8:return a=t.sent,t.next=11,Object(q.a)(a,e.txTimeout,e.connection,"singleGossip",!1);case 11:(null===(r=t.sent)||void 0===r?void 0:r.err)?Fe({open:!0,message:"Mint failed! Please try again!",severity:"error"}):Fe({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"});case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),i=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(i="SOLD OUT!",window.location.reload()):312===t.t0.code&&(i="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?i="SOLD OUT!":t.t0.message.indexOf("0x135")&&(i="Insufficient funds to mint. Please fund your wallet.")):i="Transaction Timeout! Please try again.",Fe({open:!0,message:i,severity:"error"});case 20:return t.prev=20,Re(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,15,20,23]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(f.a)(p.a.mark((function t(){var n,a,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(De){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.connection.getBalance(De.publicKey);case 5:return n=t.sent,Te(n),t.next=9,Object(V.a)(De,e.fairLaunchId,e.connection);case 9:if(a=t.sent,Ve(a),t.prev=11,!a.state.tokenMint){t.next=21;break}return t.t0=e.connection,t.next=16,Object(H.d)(a.state.tokenMint,De.publicKey);case 16:return t.t1=t.sent[0],t.next=19,t.t0.getTokenAccountBalance.call(t.t0,t.t1);case 19:(r=t.sent).value&&ke(r.value.uiAmount||0);case 21:t.next=27;break;case 23:t.prev=23,t.t2=t.catch(11),console.log("Problem getting fair launch token balance"),console.log(t.t2);case 27:Me((a.state.currentMedian||a.state.data.priceRangeStart).toNumber()/F.a),t.next=34;break;case 30:t.prev=30,t.t3=t.catch(2),console.log("Problem getting fair launch state"),console.log(t.t3);case 34:if(!e.candyMachineId){t.next=48;break}return t.prev=35,t.next=38,Object(q.b)(De,e.candyMachineId,e.connection);case 38:i=t.sent,Ge(i),t.next=46;break;case 42:t.prev=42,t.t4=t.catch(35),console.log("Problem getting candy machine state"),console.log(t.t4);case 46:t.next=49;break;case 48:console.log("No candy machine detected in configuration.");case 49:case"end":return t.stop()}}),t,null,[[2,30],[11,23],[35,42]])})))()}),[De,e.candyMachineId,e.connection,e.fairLaunchId]);var ut=H.c.asNumber(null===qe||void 0===qe?void 0:qe.state.data.priceRangeStart),lt=H.c.asNumber(null===qe||void 0===qe?void 0:qe.state.data.priceRangeEnd),dt=H.c.asNumber(null===qe||void 0===qe?void 0:qe.state.data.tickSize),bt=H.c.asNumber(null===qe||void 0===qe?void 0:qe.state.currentMedian),ht=[{value:ut||0,label:"".concat(ut," SOL")},{value:bt||0,label:"".concat(bt)},{value:lt||0,label:"".concat(lt," SOL")}].filter((function(e){return void 0!==e&&0!==e.value})),pt=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De){e.next=2;break}return e.abrupt("return");case 2:return console.log("deposit"),Re(!0),e.prev=4,e.next=7,Object(V.c)(Ke,De,qe);case 7:Re(!1),Fe({open:!0,message:"Congratulations! Bid ".concat((null===qe||void 0===qe?void 0:qe.ticket.data)?"updated":"inserted","!"),severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),Re(!1),Fe({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,Re(!0),e.next=7,Object(V.d)(De,qe);case 7:Re(!1),Fe({open:!0,message:"Congratulations! You have received a refund. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),Re(!1),Fe({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,Re(!0),e.next=7,Object(V.c)(0,De,qe);case 7:Re(!1),Fe({open:!0,message:"Congratulations! Funds withdrawn. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),Re(!1),Fe({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De&&qe&&qe.ticket){e.next=2;break}return e.abrupt("return");case 2:return console.log("punch"),Re(!0),e.prev=4,e.next=7,Object(V.b)(De,qe);case 7:Re(!1),Fe({open:!0,message:"Congratulations! Ticket punched!",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),Re(!1),Fe({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),mt=function(e,t){var n,a,r,i,c=(new Date).getTime(),s=null===(n=Object(H.f)(null===e||void 0===e?void 0:e.state.data.phaseOneStart))||void 0===n?void 0:n.getTime(),u=null===(a=Object(H.f)(null===e||void 0===e?void 0:e.state.data.phaseOneEnd))||void 0===a?void 0:a.getTime(),l=null===(r=Object(H.f)(null===e||void 0===e?void 0:e.state.data.phaseTwoEnd))||void 0===r?void 0:r.getTime(),d=null===(i=Object(H.f)(null===t||void 0===t?void 0:t.state.goLiveDate))||void 0===i?void 0:i.getTime();return s&&c<s?o.Phase0:u&&c<=u?o.Phase1:l&&c<=l?o.Phase2:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?(null===e||void 0===e?void 0:e.state.phaseThreeStarted)&&d&&c>d?o.Phase4:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?o.Phase3:o.Unknown:o.Lottery}(qe,ze),jt=(null===ze||void 0===ze?void 0:ze.state.goLiveDate)&&(null===qe||void 0===qe?void 0:qe.state.data.phaseTwoEnd)&&(null===ze||void 0===ze?void 0:ze.state.goLiveDate.lt(null===qe||void 0===qe?void 0:qe.state.data.phaseTwoEnd)),yt=!!(null!=Pe&&(null===qe||void 0===qe?void 0:qe.state.data.priceRangeStart)&&(null===qe||void 0===qe?void 0:qe.state.data.fee)&&Pe+((null===qe||void 0===qe||null===(t=qe.ticket)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.amount.toNumber())||0)<Ke*F.a+(null===qe||void 0===qe?void 0:qe.state.data.fee.toNumber())+.01);return Object(N.jsxs)(y.a,{style:{marginTop:100},children:[Object(N.jsx)(y.a,{maxWidth:"xs",style:{position:"relative"},children:Object(N.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:Object(N.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"right",onClick:function(){ct(!0)},children:"Anti-Rug Policy"})})}),Object(N.jsx)(y.a,{maxWidth:"xs",style:{position:"relative"},children:Object(N.jsx)(P.a,{style:{padding:24,backgroundColor:"#151A1F",borderRadius:6},children:Object(N.jsxs)(A.a,{container:!0,justifyContent:"center",direction:"column",children:[mt===o.Phase0&&Object(N.jsx)(Z,{phaseName:"Phase 0",desc:"Anticipation Phase",date:null===qe||void 0===qe?void 0:qe.state.data.phaseOneStart}),mt===o.Phase1&&Object(N.jsx)(Z,{phaseName:"Phase 1",desc:"Set price phase",date:null===qe||void 0===qe?void 0:qe.state.data.phaseOneEnd}),mt===o.Phase2&&Object(N.jsx)(Z,{phaseName:"Phase 2",desc:"Grace period",date:null===qe||void 0===qe?void 0:qe.state.data.phaseTwoEnd}),mt===o.Lottery&&Object(N.jsx)(Z,{phaseName:"Phase 3",desc:"Raffle in progress",date:null===qe||void 0===qe?void 0:qe.state.data.phaseTwoEnd.add(null===qe||void 0===qe?void 0:qe.state.data.lotteryDuration)}),mt===o.Phase3&&!ze&&Object(N.jsx)(Z,{phaseName:"Phase 3",desc:"Raffle finished!",date:null===qe||void 0===qe?void 0:qe.state.data.phaseTwoEnd}),mt===o.Phase3&&ze&&Object(N.jsx)(Z,{phaseName:"Phase 3",desc:"Minting starts in...",date:null===ze||void 0===ze?void 0:ze.state.goLiveDate}),mt===o.Phase4&&Object(N.jsx)(Z,{phaseName:jt?"Phase 3":"Phase 4",desc:"Candy Time \ud83c\udf6c \ud83c\udf6c \ud83c\udf6c",date:null===ze||void 0===ze?void 0:ze.state.goLiveDate,status:"LIVE"}),qe&&Object(N.jsx)(A.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:200,marginTop:20,marginBottom:20,background:"#384457",borderRadius:6},children:qe.ticket.data?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T.a,{children:"Your bid"}),Object(N.jsxs)(T.a,{variant:"h6",style:{fontWeight:900},children:[H.c.format(((null===qe||void 0===qe||null===(a=qe.ticket.data)||void 0===a?void 0:a.amount.toNumber())||0)/F.a)," ","SOL"]})]}):[o.Phase0,o.Phase1].includes(mt)?Object(N.jsxs)(T.a,{children:["You haven't entered this raffle yet. ",Object(N.jsx)("br",{}),(null===qe||void 0===qe||null===(r=qe.state)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.fee)&&Object(N.jsx)("span",{children:Object(N.jsxs)("b",{children:["All initial bids will incur a \u25ce"," ",(null===qe||void 0===qe||null===(s=qe.state)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.fee.toNumber())/F.a," ","fee."]})})]}):Object(N.jsx)(T.a,{children:"You didn't participate in this raffle."})}),qe&&Object(N.jsxs)(N.Fragment,{children:[[o.Phase1,o.Phase2,o.Phase3,o.Lottery].includes(mt)&&(null===qe||void 0===qe||null===(l=qe.ticket)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.state.withdrawn)&&Object(N.jsx)("div",{style:{paddingTop:"15px"},children:Object(N.jsx)(W.a,{severity:"error",children:"Your bid was withdrawn and cannot be adjusted or re-inserted."})}),[o.Phase1,o.Phase2].includes(mt)&&qe.state.currentMedian&&(null===qe||void 0===qe||null===(h=qe.ticket)||void 0===h||null===(g=h.data)||void 0===g?void 0:g.amount)&&!(null===qe||void 0===qe||null===(m=qe.ticket)||void 0===m||null===(j=m.data)||void 0===j?void 0:j.state.withdrawn)&&qe.state.currentMedian.gt(null===qe||void 0===qe||null===(S=qe.ticket)||void 0===S||null===(L=S.data)||void 0===L?void 0:L.amount)&&Object(N.jsx)("div",{style:{paddingTop:"15px"},children:Object(N.jsx)(W.a,{severity:"warning",children:"Your bid is currently below the median and will not be eligible for the raffle."})}),[o.Phase3,o.Lottery].includes(mt)&&qe.state.currentMedian&&(null===qe||void 0===qe||null===(R=qe.ticket)||void 0===R||null===(E=R.data)||void 0===E?void 0:E.amount)&&!(null===qe||void 0===qe||null===(K=qe.ticket)||void 0===K||null===(_=K.data)||void 0===_?void 0:_.state.withdrawn)&&qe.state.currentMedian.gt(null===qe||void 0===qe||null===(U=qe.ticket)||void 0===U||null===(ee=U.data)||void 0===ee?void 0:ee.amount)&&Object(N.jsx)("div",{style:{paddingTop:"15px"},children:Object(N.jsxs)(W.a,{severity:"error",children:["Your bid was below the median and was not included in the raffle. You may click ",Object(N.jsx)("em",{children:"Withdraw"})," when the raffle ends or you will be automatically issued one when the Fair Launch authority withdraws from the treasury."]})}),yt&&Object(N.jsx)(W.a,{severity:"error",children:"You do not have enough SOL in your account to place this bid."})]}),[o.Phase1,o.Phase2].includes(mt)&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(A.a,{style:{marginTop:40,marginBottom:20},children:Object(N.jsx)(Q,{min:ut,marks:ht,max:lt,step:dt,value:Ke,onChange:function(e,t){return Me(t)},valueLabelDisplay:"auto",style:{width:"calc(100% - 40px)",marginLeft:20,height:30}})})}),Be.connected?Object(N.jsxs)("div",{children:[[o.Phase1,o.Phase2].includes(mt)&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(G,{onClick:pt,variant:"contained",disabled:Ce||!(null===qe||void 0===qe?void 0:qe.ticket.data)&&mt===o.Phase2||yt,children:Ce?Object(N.jsx)(O.a,{}):(null===qe||void 0===qe?void 0:qe.ticket.data)?"Change bid":"Place bid"})}),[o.Phase3].includes(mt)&&Object(N.jsxs)(N.Fragment,{children:[$(qe)&&Object(N.jsx)(G,{onClick:gt,variant:"contained",disabled:void 0!==(null===qe||void 0===qe||null===(te=qe.ticket.data)||void 0===te?void 0:te.state.punched),children:Ce?Object(N.jsx)(O.a,{}):"Punch Ticket"}),!$(qe)&&Object(N.jsx)(G,{onClick:vt,variant:"contained",disabled:Ce||void 0===(null===qe||void 0===qe?void 0:qe.ticket.data)||void 0!==(null===qe||void 0===qe||null===(ne=qe.ticket.data)||void 0===ne?void 0:ne.state.withdrawn),children:Ce?Object(N.jsx)(O.a,{}):"Withdraw"})]}),mt===o.Phase4&&Object(N.jsxs)(N.Fragment,{children:[(!qe||$(qe))&&Object(N.jsx)(z,{children:Object(N.jsx)(G,{disabled:(null===ze||void 0===ze?void 0:ze.state.isSoldOut)||Ce||!(null===ze||void 0===ze?void 0:ze.state.isActive)||(null===qe||void 0===qe||null===(ae=qe.ticket)||void 0===ae||null===(re=ae.data)||void 0===re?void 0:re.state.punched)&&0===Oe,onClick:st,variant:"contained",children:(null===qe||void 0===qe||null===(ie=qe.ticket)||void 0===ie||null===(oe=ie.data)||void 0===oe?void 0:oe.state.punched)&&0===Oe?"MINTED":(null===ze||void 0===ze?void 0:ze.state.isSoldOut)?"SOLD OUT":Ce?Object(N.jsx)(O.a,{}):"MINT"})}),!$(qe)&&Object(N.jsx)(G,{onClick:vt,variant:"contained",disabled:Ce||void 0===(null===qe||void 0===qe?void 0:qe.ticket.data)||void 0!==(null===qe||void 0===qe||null===(ce=qe.ticket.data)||void 0===ce?void 0:ce.state.withdrawn),children:Ce?Object(N.jsx)(O.a,{}):"Withdraw"})]})]}):Object(N.jsxs)(J,{children:["Connect"," ",[o.Phase1].includes(mt)?"to bid":"to see status"]}),Object(N.jsxs)(A.a,{container:!0,justifyContent:"space-between",color:"textSecondary",children:[Object(N.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"left",onClick:function(){$e(!0)},children:"How this raffle works"}),(null===qe||void 0===qe?void 0:qe.ticket.data)&&Object(N.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"right",onClick:function(){!qe||mt===o.Lottery||$(qe)?at(!0):vt()},children:"Withdraw funds"})]}),Object(N.jsx)(M.a,{open:nt,onClose:function(){return at(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(N.jsx)(D.a,{style:{padding:24},children:"During raffle phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed."})}),Object(N.jsx)(M.a,{open:ot,onClose:function(){ct(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(N.jsxs)(D.a,{style:{padding:24},children:[!(null===qe||void 0===qe?void 0:qe.state.data.antiRugSetting)&&Object(N.jsx)("span",{children:"This Fair Launch has no anti-rug settings."}),(null===qe||void 0===qe?void 0:qe.state.data.antiRugSetting)&&qe.state.data.antiRugSetting.selfDestructDate&&Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:"Anti-Rug Policy"}),Object(N.jsx)("p",{children:"This raffle is governed by a smart contract to prevent the artist from running away with your money."}),Object(N.jsx)("p",{children:"How it works:"}),"This project will retain"," ",qe.state.data.antiRugSetting.reserveBp/100,"% (\u25ce"," ",(null===qe||void 0===qe?void 0:qe.treasury)*qe.state.data.antiRugSetting.reserveBp/(1e4*F.a),") of the pledged amount in a locked state until all but"," ",qe.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs (out of up to"," ",qe.state.data.numberOfTokens.toNumber(),") have been minted.",Object(N.jsxs)("p",{children:["If more than"," ",qe.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs remain as of"," ",null===(se=Object(H.f)(qe.state.data.antiRugSetting.selfDestructDate))||void 0===se?void 0:se.toLocaleDateString()," ","at"," ",null===(ue=Object(H.f)(qe.state.data.antiRugSetting.selfDestructDate))||void 0===ue?void 0:ue.toLocaleTimeString(),", you will have the option to get a refund of"," ",qe.state.data.antiRugSetting.reserveBp/100,"% of the cost of your token."]}),(null===qe||void 0===qe||null===(le=qe.ticket)||void 0===le?void 0:le.data)&&!(null===qe||void 0===qe||null===(de=qe.ticket)||void 0===de?void 0:de.data.state.withdrawn)&&Object(N.jsx)(G,{onClick:ft,variant:"contained",disabled:!qe.ticket.data||!qe.ticket.data.state.punched||Date.now()/1e3<qe.state.data.antiRugSetting.selfDestructDate.toNumber(),children:Ce?Object(N.jsx)(O.a,{}):Date.now()/1e3<qe.state.data.antiRugSetting.selfDestructDate.toNumber()?Object(N.jsxs)("span",{children:["Refund in...",Object(N.jsx)(C.a,{date:Object(H.f)(qe.state.data.antiRugSetting.selfDestructDate)})]}):"Refund"}),Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"-5px"},children:(null===qe||void 0===qe||null===(be=qe.ticket)||void 0===be?void 0:be.data)&&!(null===qe||void 0===qe||null===(he=qe.ticket)||void 0===he||null===(pe=he.data)||void 0===pe?void 0:pe.state.punched)&&Object(N.jsx)("small",{children:"You currently have a ticket but it has not been punched yet, so cannot be refunded."})})]})]})}),Object(N.jsxs)(M.a,{open:Ze,onClose:function(){return $e(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:[Object(N.jsxs)(B.a,{disableTypography:!0,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(N.jsx)(x.a,{component:"button",variant:"h6",color:"textSecondary",onClick:function(){$e(!0)},children:"How it works"}),Object(N.jsx)(k.a,{"aria-label":"close",className:X.closeButton,onClick:function(){return $e(!1)},children:Object(N.jsx)(I.a,{})})]}),Object(N.jsxs)(D.a,{children:[Object(N.jsx)(T.a,{variant:"h6",children:"Phase 1 - Set the fair price:"}),Object(N.jsxs)(T.a,{gutterBottom:!0,color:"textSecondary",children:['Enter a bid in the range provided by the artist. The median of all bids will be the "fair" price of the raffle ticket.'," ",(null===qe||void 0===qe||null===(fe=qe.state)||void 0===fe||null===(ve=fe.data)||void 0===ve?void 0:ve.fee)&&Object(N.jsx)("span",{children:Object(N.jsxs)("b",{children:["All bids will incur a \u25ce"," ",(null===qe||void 0===qe||null===(ge=qe.state)||void 0===ge||null===(me=ge.data)||void 0===me?void 0:me.fee.toNumber())/F.a," ","fee."]})})]}),Object(N.jsx)(T.a,{variant:"h6",children:"Phase 2 - Grace period:"}),Object(N.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"If your bid was at or above the fair price, you automatically get a raffle ticket at that price. There's nothing else you need to do. Your excess SOL will be returned to you when the Fair Launch authority withdraws from the treasury. If your bid is below the median price, you can still opt in at the fair price during this phase."}),jt?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T.a,{variant:"h6",children:"Phase 3 - The Candy Machine:"}),Object(N.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"Everyone who got a raffle ticket at the fair price is entered to win an NFT. If you win an NFT, congrats. If you don\u2019t, no worries, your SOL will go right back into your wallet."})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T.a,{variant:"h6",children:"Phase 3 - The Lottery:"}),Object(N.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"Everyone who got a raffle ticket at the fair price is entered to win a Fair Launch Token that entitles them to an NFT at a later date using a Candy Machine here. If you don\u2019t win, no worries, your SOL will go right back into your wallet."}),Object(N.jsx)(T.a,{variant:"h6",children:"Phase 4 - The Candy Machine:"}),Object(N.jsxs)(T.a,{gutterBottom:!0,color:"textSecondary",children:["On"," ",(null===ze||void 0===ze?void 0:ze.state.goLiveDate)?null===(je=Object(H.f)(null===ze||void 0===ze?void 0:ze.state.goLiveDate))||void 0===je?void 0:je.toLocaleString():" some later date",", you will be able to exchange your Fair Launch token for an NFT using the Candy Machine at this site by pressing the Mint Button."]})]})]})]})]})})}),qe&&Object(N.jsx)(y.a,{maxWidth:"xs",style:{position:"relative",marginTop:10},children:Object(N.jsx)("div",{style:{margin:20},children:Object(N.jsxs)(A.a,{container:!0,direction:"row",wrap:"nowrap",children:[Object(N.jsxs)(A.a,{container:!0,md:4,direction:"column",children:[Object(N.jsx)(T.a,{variant:"body2",color:"textSecondary",children:"Bids"}),Object(N.jsx)(T.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:(null===qe||void 0===qe?void 0:qe.state.numberTicketsSold.toNumber())||0})]}),Object(N.jsxs)(A.a,{container:!0,md:4,direction:"column",children:[Object(N.jsx)(T.a,{variant:"body2",color:"textSecondary",children:"Median bid"}),Object(N.jsxs)(T.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce ",H.c.format(bt)]})]}),Object(N.jsxs)(A.a,{container:!0,md:4,direction:"column",children:[Object(N.jsx)(T.a,{variant:"body2",color:"textSecondary",children:"Total raised"}),Object(N.jsxs)(T.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce"," ",H.c.format(((null===qe||void 0===qe?void 0:qe.treasury)||0)/F.a)]})]})]})})}),Object(N.jsx)(w.a,{open:We.open,autoHideDuration:6e3,onClose:function(){return Fe(Object(b.a)(Object(b.a)({},We),{},{open:!1}))},children:Object(N.jsx)(W.a,{onClose:function(){return Fe(Object(b.a)(Object(b.a)({},We),{},{open:!1}))},severity:We.severity,children:We.message})})]})},te=n(32),ne=n(256),ae=n(139),re=n(831),ie=Object(ae.b)({palette:{type:"dark"}}),oe=new te.e.PublicKey("wmv1FeTenA38dPnLDuHitK64pRDyjtBe7nNAhrCmWH8"),ce=new te.e.PublicKey("AiVv78JmtoXJBt5FmNxc2Q3XMxqCgh73JB3kqJ63Jn5K"),se=new te.e.Connection("https://solana--devnet.datahub.figment.io/apikey/4155938a6d3d97205edf8c20a466d691"),ue=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"wmv1FeTenA38dPnLDuHitK64pRDyjtBe7nNAhrCmWH8",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://solana--devnet.datahub.figment.io/apikey/4155938a6d3d97205edf8c20a466d691",REACT_APP_FAIR_LAUNCH_ID:"AiVv78JmtoXJBt5FmNxc2Q3XMxqCgh73JB3kqJ63Jn5K"}).REACT_APP_CANDY_START_DATE,10),le=function(){var e=Object(c.useMemo)((function(){return Object(F.f)("mainnet-beta")}),[]),t=Object(c.useMemo)((function(){return[Object(ne.getPhantomWallet)(),Object(ne.getSolflareWallet)(),Object(ne.getSolletWallet)()]}),[]);return Object(N.jsx)(re.a,{theme:ie,children:Object(N.jsx)(Y.ConnectionProvider,{endpoint:e,children:Object(N.jsx)(Y.WalletProvider,{wallets:t,autoConnect:!0,children:Object(N.jsxs)(U.WalletDialogProvider,{children:[Object(N.jsx)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:Object(N.jsx)("img",{style:{display:"inline",width:"100%",margin:"1%"},src:"https://dyor.market/elem.jpg"})}),Object(N.jsxs)(d.a,{className:"container-div",style:{margin:0,marginLeft:"5%",marginRight:"5%",alignItems:"center"},children:[Object(N.jsx)("video",{className:"video-container video-container-overlay",style:{display:"inline",width:"15%"},autoPlay:"true",loop:"true",muted:"true","data-reactid":".0.1.0.0",children:Object(N.jsx)("source",{type:"video/mp4","data-reactid":".0.1.0.0.0",src:"https://dyor.market/1.mp4"})}),Object(N.jsx)(ee,{candyMachineId:oe,fairLaunchId:ce,connection:se,startDate:ue,txTimeout:3e4}),Object(N.jsx)("video",{style:{display:"inline",width:"15%"},className:"video-container video-container-overlay",autoPlay:"true",loop:"true",muted:"true","data-reactid":".0.1.0.0",children:Object(N.jsx)("source",{type:"video/mp4","data-reactid":".0.1.0.0.0",src:"https://dyor.market/2.mp4"})})]}),Object(N.jsxs)(d.a,{style:{color:"white"},children:[Object(N.jsx)("div",{children:Object(N.jsx)("h1",{children:"SUMMONERS EVOCATION   "})}),Object(N.jsx)("div",{children:"Always a loner when it comes to your adventurers. Here at the SUMMONERS EVOCATION, you can summon familiars to tag along on your adventures and help you out in a tight pinch."}),Object(N.jsx)("div",{children:"These EVOCATIONS have many uses, from summoning simple spirits to more powerful beings such as Demons which Is a being associated with the evil forces of the world and possess very dark magic. Also known as a fiend for lesser powers. Deitys which are the divine status given to beings close to God's or Supreme beings. Being one of the most powerful to summon not everyone can obtain their power. Even Other supernatural beings such as vampires, ghouls, shtriga, wendigos, changelings and many more can all be summoned."}),Object(N.jsx)("div",{children:"Some summonings be better then others only due to some have more of an act for it. Even enough attempts even a amateur can someone on massive creature."}),Object(N.jsx)("div",{children:Object(N.jsx)("h2",{children:"The Summoning - "})}),Object(N.jsx)("div",{children:'Our current status for summonings will allow you to tap into a large quantity of Elemental beings. The Elementals are also known as "Elemental Spirits". These Elemental beings are humanoid in shape sometimes but is not always the case. They are conceived as living elements which lack a soul so without orders from a summoner they can rain down chaos if not watched closely. After all these are personifications of all the natural forces of the universe packed into physical form. Some are seen as demons and some saviors.'}),Object(N.jsx)("div",{children:"Which one will you get??"}),Object(N.jsx)("div",{style:{marginLeft:"1%"},children:"There will only be 138 winners. You will be able to place a bid from 0.25 to 3 sol to gain a spot on your summoners board. An when you win. You claim your summoned creature which is your and your alone. You can then decide to sell or trade your summonings if you wish."})]})]})})})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,848)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};l.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(le,{})}),document.getElementById("root")),de()}},[[811,1,2]]]);
//# sourceMappingURL=main.2ca2a4cf.chunk.js.map